webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={name:"Imager",data:function(){return{messageBoxSrc:"static/fukidashi02.png",messageBigFlg:!1,copyrightFlg:!1}},props:{name:{type:String,default:"りゅーさん"},message:{type:String,default:"リミットブレイク！！！"},copyright:{type:String,default:"Copyright (C) 2010 - 2019 SQUARE ENIX CO., LTD. All Rights Reserved."}},mounted:function(){this.file=document.getElementById("file"),this.result=document.getElementById("result"),this.canvas=this.$el.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.img=new Image,this.img.src="static/fantasy_ryuukishi.png",this.messageBoxImage=new Image,this.messageBoxImage.src=this.messageBoxSrc,this.canvasDraw()},methods:{onFileChange:function(t){this.fileList=t.target.files||t.dataTransfer.files,this.loadLocalImage(this.fileList[0])},onCursolChange:function(){this.messageBoxImage.src=this.messageBoxSrc,this.canvasDraw()},loadLocalImage:function(t){var e=this;t.type.match("image.*")?(this.reader=new FileReader,this.img=new Image,this.reader.onloadend=function(){e.img.onload=function(){e.canvasDraw()},e.img.src=e.reader.result},this.reader.readAsDataURL(t)):alert("画像を選択してください")},canvasDraw:function(){var t=this,e=new Image;e.onload=function(){t.getSize(e),t.canvas.width=t.imageWidth,t.canvas.height=t.imageHeight,t.ctx.clearRect(0,0,t.imageWidth,t.imageHeight),t.ctx.drawImage(e,0,0,t.imageWidth,t.imageHeight),t.ctx.drawImage(t.messageBoxImage,t.messageBoxPosition.x,t.messageBoxPosition.y,t.messageBoxPosition.w,t.messageBoxPosition.h),t.addText(),t.addCopyright()},e.src=this.img.src},getSize:function(t){var e=t.naturalWidth/t.naturalHeight;this.imageWidth=t.naturalWidth,this.imageHeight=this.imageWidth/e,this.messageBoxPosition={x:this.imageWidth/2-.2*this.imageHeight*(657/158)/2,y:this.imageHeight*(715/900),w:.2*this.imageHeight*(657/158),h:.2*this.imageHeight},this.messageBoxPosition.w>this.imageWidth&&(this.messageBoxPosition.x=.05*this.imageWidth,this.messageBoxPosition.w=.9*this.imageWidth),this.namePosition={x:this.messageBoxPosition.x+.08*this.messageBoxPosition.w,y:this.imageHeight*(737/900),size:Math.round(.021*this.imageHeight)},this.messagePosition={x:this.namePosition.x,y:this.imageHeight*(777/900),size:this.namePosition.size}},addText:function(){var t=this.namePosition.size+"px",e=this.messagePosition.size+"px";this.messageBigFlg&&(e=3*this.messagePosition.size+"px",this.messagePosition.y=this.imageHeight*(805/900)),this.ctx.textAlign="left",this.ctx.textBaseline="middle",this.ctx.fillStyle="#FFFFFF",this.ctx.font="normal "+t+" 'Noto Sans JP'",this.ctx.fillText(this.name,this.namePosition.x,this.namePosition.y),this.ctx.fillStyle="#000000",this.ctx.font="500 "+e+" 'Noto Sans JP'";for(var a=this.message.split("\n"),s=0,i=a.length;i>s;s++){var n=a[s],r=0;s&&(r+=1.4*this.namePosition.size*s),this.ctx.fillText(n,this.messagePosition.x,this.messagePosition.y+r)}},addCopyright:function(){if(this.copyrightFlg){var t=this.imageHeight*(10/900)+"px";this.ctx.textAlign="left",this.ctx.textBaseline="middle",this.ctx.fillStyle="#000000",this.ctx.font="normal "+t+" 'Noto Sans JP'",this.ctx.fillText(this.copyright,11,.99*this.imageHeight+1),this.ctx.fillStyle="#FFFFFF",this.ctx.fillText(this.copyright,10,.99*this.imageHeight)}},download:function(){var t=document.getElementById("canvas").toDataURL(),e=this.base64toBlob(t),a=document.getElementById("downloadButton"),s="xivspeech_"+(new Date).getTime()+".png";a.href=window.URL.createObjectURL(e),a.download=s},base64toBlob:function(t){for(var e=t.split(","),a=atob(e[1]),s=e[0].split(":")[1].split(";")[0],i=new Uint8Array(a.length),n=0;n<a.length;n++)i[n]=a.charCodeAt(n);return new Blob([i],{type:s})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imager"},[t._m(0),a("h2",[t._v("設定するところ")]),a("div",{staticClass:"setting"},[a("div",{staticClass:"upload"},[a("p",[a("span",{staticClass:"inputName"},[t._v("画像：")]),a("input",{staticClass:"inputArea -image",attrs:{type:"file",name:"file",id:"file"},on:{change:t.onFileChange}})])]),a("hr"),a("div",{staticClass:"name"},[a("p",[a("span",{staticClass:"inputName"},[t._v("キャラクター名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"inputArea -text",attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.name},on:{change:t.canvasDraw,input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("hr"),a("div",{staticClass:"message"},[a("p",[a("span",{staticClass:"inputName"},[t._v("セリフ：")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"inputArea -text -serif",attrs:{name:"message"},domProps:{value:t.message},on:{change:t.canvasDraw,input:function(e){e.target.composing||(t.message=e.target.value)}}})]),a("p",[a("span",{staticClass:"inputName"},[t._v("巨大化：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.messageBigFlg,expression:"messageBigFlg"}],staticClass:"inputArea",attrs:{type:"checkbox",name:"cursol"},domProps:{checked:Array.isArray(t.messageBigFlg)?t._i(t.messageBigFlg,null)>-1:t.messageBigFlg},on:{change:[function(e){var a=t.messageBigFlg,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.messageBigFlg=a.concat([null])):n>-1&&(t.messageBigFlg=a.slice(0,n).concat(a.slice(n+1)))}else t.messageBigFlg=i},t.canvasDraw]}})])]),a("hr"),a("div",{staticClass:"cursol"},[a("p",[a("span",{staticClass:"inputName"},[t._v("カーソル：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.messageBoxSrc,expression:"messageBoxSrc"}],staticClass:"inputArea",attrs:{type:"checkbox",name:"cursol","true-value":"static/fukidashi02.png","false-value":"static/fukidashi01.png"},domProps:{checked:Array.isArray(t.messageBoxSrc)?t._i(t.messageBoxSrc,null)>-1:t._q(t.messageBoxSrc,"static/fukidashi02.png")},on:{change:[function(e){var a=t.messageBoxSrc,s=e.target,i=s.checked?"static/fukidashi02.png":"static/fukidashi01.png";if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.messageBoxSrc=a.concat([null])):n>-1&&(t.messageBoxSrc=a.slice(0,n).concat(a.slice(n+1)))}else t.messageBoxSrc=i},t.onCursolChange]}})])]),a("hr"),a("div",{staticClass:"copyright"},[a("p",[a("span",{staticClass:"inputName"},[t._v("コピーライト：")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.copyright,expression:"copyright"}],staticClass:"inputArea -text",attrs:{name:"copyright"},domProps:{value:t.copyright},on:{change:t.canvasDraw,input:function(e){e.target.composing||(t.copyright=e.target.value)}}})]),a("p",[a("span",{staticClass:"inputName"},[t._v("ON/OFF：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.copyrightFlg,expression:"copyrightFlg"}],staticClass:"inputArea",attrs:{type:"checkbox",name:"cursol"},domProps:{checked:Array.isArray(t.copyrightFlg)?t._i(t.copyrightFlg,null)>-1:t.copyrightFlg},on:{change:[function(e){var a=t.copyrightFlg,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.copyrightFlg=a.concat([null])):n>-1&&(t.copyrightFlg=a.slice(0,n).concat(a.slice(n+1)))}else t.copyrightFlg=i},t.onCursolChange]}})])])]),t._m(1),a("div",{attrs:{id:"result"}}),a("h2",[t._v("できあがり")]),a("canvas",{staticClass:"canvas",attrs:{id:"canvas"}}),a("div",{staticClass:"download"},[a("a",{staticClass:"button",attrs:{id:"downloadButton"},on:{click:t.download}},[t._v("ダウンロードボタン")])]),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("h1",[this._v("FF14 セリフジェネレータ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-display"},[e("img",{attrs:{src:"static/fukidashi01.png"}}),e("img",{attrs:{src:"static/fukidashi02.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("hr"),a("p",[t._v("IEは動きません。ボタンを押しても直接DLされない場合は、表示された画像を右クリック/長押しなどをしてみてください。")]),a("p",[t._v("文字や画像がうまく描画されないときはコピーライトON/OFFのチェックボックスなどをカチカチしてみてください。")]),a("p",[t._v("フキダシ素材は"),a("a",{attrs:{href:"http://xiv.umee.info/material-01/",target:"_blank"}},[t._v("こちら")]),t._v("よりお借りいたしました。")]),a("p",[t._v("記載されている会社名・製品名・システム名などは、各社の商標、または登録商標です。"),a("br"),t._v("Copyright (C) 2010 - 2019 SQUARE ENIX CO., LTD. All Rights Reserved.")]),a("p",[t._v("ご意見ご要望は"),a("a",{attrs:{href:"https://twitter.com/kid_nanarya/"}},[t._v("@kid_nanarya")]),t._v("まで")]),a("p",[t._v("ハッシュタグはこちら"),a("a",{attrs:{href:"https://twitter.com/search?q=%23FF14%E3%82%BB%E3%83%AA%E3%83%95%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF",target:"_blank"}},[t._v("#FF14セリフジェネレータ")])]),a("p",[a("a",{staticClass:"twitter-share-button twitter-share-button",attrs:{href:"https://twitter.com/share?ref_src=twsrc%5Etfw","data-via":"kid_nanarya","data-hashtags":"FF14セリフジェネレータ","data-show-count":"false"}},[t._v("SHARE")])])])}]};var r={name:"App",components:{Imager:a("VU/8")(i,n,!1,function(t){a("a82D")},"data-v-86f2445a",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Imager")],1)},staticRenderFns:[]};var c=a("VU/8")(r,o,!1,function(t){a("b7Gn")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:c},template:"<App/>"})},a82D:function(t,e){},b7Gn:function(t,e){}},["NHnr"]);